<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JARVIS for Android</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #36D7B7;
            --secondary: #2B4162;
            --accent: #FF6B6B;
            --dark: #0A192F;
            --light: #E6F1FF;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--dark);
            color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        .header {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid var(--primary);
            position: relative;
        }
        
        .header h1 {
            font-family: 'Share Tech Mono', monospace;
            color: var(--primary);
            text-shadow: 0 0 10px rgba(54, 215, 183, 0.5);
            letter-spacing: 2px;
        }
        
        .main-container {
            display: flex;
            flex: 1;
            flex-direction: column;
            padding: 1rem;
            gap: 1rem;
        }
        
        .status-bar {
            background-color: rgba(43, 65, 98, 0.7);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--primary);
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--accent);
        }
        
        .active {
            background-color: var(--primary);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .console {
            flex: 1;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 8px;
            padding: 1rem;
            overflow-y: auto;
            border: 1px solid var(--secondary);
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            max-height: 50vh;
            display: flex;
            flex-direction: column-reverse;
        }
        
        .console-line {
            margin-bottom: 0.5rem;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .console-input {
            color: var(--primary);
        }
        
        .console-output {
            color: var(--light);
        }
        
        .console-error {
            color: var(--accent);
        }
        
        .control-panel {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }
        
        .panel-section {
            background-color: rgba(43, 65, 98, 0.5);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--secondary);
        }
        
        .panel-section h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .btn {
            background-color: var(--secondary);
            color: var(--light);
            border: none;
            padding: 0.5rem;
            border-radius: 4px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            margin: 0.2rem;
        }
        
        .btn:hover {
            background-color: var(--primary);
            color: var(--dark);
        }
        
        .btn-danger {
            background-color: var(--accent);
        }
        
        .btn-danger:hover {
            background-color: #FF3B3B;
        }
        
        .voice-control {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .voice-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--accent);
            border: none;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }
        
        .voice-btn.active {
            background-color: var(--primary);
            transform: scale(1.05);
        }
        
        .voice-btn::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: rgba(255, 107, 107, 0.4);
            animation: pulse 2s infinite;
            z-index: -1;
        }
        
        .command-input {
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--secondary);
            border-radius: 4px;
            padding: 0.5rem;
            color: var(--light);
            font-family: 'Roboto Mono', monospace;
            width: 100%;
            margin-top: 0.5rem;
        }
        
        .command-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        footer {
            text-align: center;
            padding: 1rem;
            font-size: 0.8rem;
            color: var(--secondary);
        }
        
        @media (max-width: 600px) {
            .control-panel {
                grid-template-columns: 1fr;
            }
        }
        
        /* Screenshot preview */
        .screen-preview {
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .screen-preview img {
            max-width: 100%;
            border: 1px solid var(--secondary);
            border-radius: 4px;
        }
        
        /* Animation for system status changes */
        @keyframes statusChange {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .changing {
            animation: statusChange 0.5s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>J.A.R.V.I.S.</h1>
        <p>Just A Rather Very Intelligent System</p>
    </div>
    
    <div class="main-container">
        <div class="status-bar">
            <div class="status-indicator">
                <span class="indicator active"></span>
                <span>System: Operational</span>
            </div>
            <div id="time-display">--:--</div>
        </div>
        
        <div class="screen-preview">
            <img src="https://placehold.co/300x600/2B4162/FFFFFF?text=Device+Screen+Preview" alt="Current device screen preview showing placeholder text" id="screen-preview-img" />
        </div>
        
        <div class="console" id="console">
            <div class="console-line console-output">System initializing...</div>
            <div class="console-line console-output">Checking Android permissions...</div>
            <div class="console-line console-output">Voice recognition module loaded</div>
            <div class="console-line console-output">JARVIS ready for commands</div>
        </div>
        
        <div class="control-panel">
            <div class="panel-section voice-control">
                <h3>Voice Control</h3>
                <button class="voice-btn" id="voice-btn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 15C13.6569 15 15 13.6569 15 12V6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6V12C9 13.6569 10.3431 15 12 15Z" fill="white"/>
                        <path d="M18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        <path d="M10 20H14" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <input type="text" class="command-input" id="command-input" placeholder="Or type your command here..." />
            </div>
            
            <div class="panel-section">
                <h3>Device Control</h3>
                <button class="btn" id="screen-capture-btn">Capture Screen</button>
                <button class="btn" id="open-settings-btn">Open Settings</button>
                <button class="btn" id="open-app-btn">Launch App</button>
                <button class="btn" id="toggle-wifi-btn">Toggle WiFi</button>
            </div>
            
            <div class="panel-section">
                <h3>System Commands</h3>
                <button class="btn" id="check-battery-btn">Check Battery</button>
                <button class="btn" id="check-storage-btn">Check Storage</button>
                <button class="btn" id="device-info-btn">Device Info</button>
                <button class="btn" id="send-notification-btn">Send Notification</button>
            </div>
            
            <div class="panel-section">
                <h3>Advanced</h3>
                <button class="btn" id="run-script-btn">Run Script</button>
                <button class="btn" id="send-sms-btn">Send SMS</button>
                <button class="btn btn-danger" id="emergency-btn">Emergency</button>
            </div>
        </div>
    </div>
    
    <footer>
        JARVIS Android Control System v0.1 | Requires Android Accessibility Services
    </footer>

    <script>
        // DOM elements
        const consoleElem = document.getElementById('console');
        const voiceBtn = document.getElementById('voice-btn');
        const commandInput = document.getElementById('command-input');
        const timeDisplay = document.getElementById('time-display');
        const screenPreviewImg = document.getElementById('screen-preview-img');
        
        // Voice recognition
        let recognition;
        let isListening = false;
        
        // System status
        const systemStatus = {
            battery: 0,
            storage: 0,
            wifi: false,
            permissions: false
        };
        
        // Update time every second
        function updateTime() {
            const now = new Date();
            timeDisplay.textContent = now.toLocaleTimeString();
        }
        setInterval(updateTime, 1000);
        updateTime();
        
        // Initialize voice recognition
        function initVoiceRecognition() {
            try {
                recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                recognition.lang = 'en-US';
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
                
                recognition.onstart = function() {
                    isListening = true;
                    voiceBtn.classList.add('active');
                    logToConsole("Voice recognition started");
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    logToConsole(`Command: ${transcript}`, 'input');
                    processCommand(transcript);
                };
                
                recognition.onerror = function(event) {
                    logToConsole(`Voice recognition error: ${event.error}`, 'error');
                    isListening = false;
                    voiceBtn.classList.remove('active');
                };
                
                recognition.onend = function() {
                    isListening = false;
                    voiceBtn.classList.remove('active');
                    if (isListening) {
                        recognition.start();
                    }
                };
                
                logToConsole("Voice recognition initialized");
            } catch (error) {
                logToConsole(`Failed to initialize voice recognition: ${error}`, 'error');
                voiceBtn.disabled = true;
                commandInput.placeholder = "Voice commands not available";
            }
        }
        
        // Toggle voice recognition
        voiceBtn.addEventListener('click', function() {
            if (!recognition) return;
            
            if (isListening) {
                recognition.stop();
                isListening = false;
            } else {
                recognition.start();
                isListening = true;
            }
        });
        
        // Process commands from voice or text input
        commandInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && this.value.trim()) {
                logToConsole(`Command: ${this.value}`, 'input');
                processCommand(this.value);
                this.value = '';
            }
        });
        
        // Process different commands
        function processCommand(command) {
            const cmd = command.toLowerCase().trim();
            
            if (cmd.includes('jarvis') || cmd.includes('hello') || cmd.includes('hi') || cmd.includes('hey')) {
                const responses = [
                    "How can I assist you today?",
                    "At your service.",
                    "Yes, I'm listening.",
                    "What can I do for you?"
                ];
                respond(responses[Math.floor(Math.random() * responses.length)]);
            } 
            else if (cmd.includes('screen') || cmd.includes('capture') || cmd.includes('screenshot')) {
                captureScreen();
            }
            else if (cmd.includes('open') && cmd.includes('app')) {
                const app = cmd.split('open app')[1]?.trim();
                if (app) {
                    respond(`Attempting to open ${app}`);
                } else {
                    respond("Which app would you like me to open?");
                }
            }
            else if (cmd.includes('wifi') || cmd.includes('internet')) {
                toggleWifi();
            }
            else if (cmd.includes('battery') || cmd.includes('power')) {
                checkBattery();
            }
            else if (cmd.includes('storage') || cmd.includes('memory')) {
                checkStorage();
            }
            else if (cmd.includes('settings')) {
                respond("Opening settings...");
                simulateSettings();
            }
            else if (cmd.includes('notification') || cmd.includes('alert')) {
                const text = cmd.split('notification')[1]?.trim();
                if (text) {
                    sendNotification(text);
                } else {
                    respond("What would you like the notification to say?");
                }
            }
            else if (cmd.includes('emergency') || cmd.includes('help') || cmd.includes('danger')) {
                emergencyAction();
            }
            else {
                respond(`I'm not sure how to "${command}". Try "capture screen", "toggle wifi", "check battery", or "open settings".`);
            }
        }
        
        // Button event listeners
        document.getElementById('screen-capture-btn').addEventListener('click', captureScreen);
        document.getElementById('open-settings-btn').addEventListener('click', simulateSettings);
        document.getElementById('toggle-wifi-btn').addEventListener('click', toggleWifi);
        document.getElementById('check-battery-btn').addEventListener('click', checkBattery);
        document.getElementById('check-storage-btn').addEventListener('click', checkStorage);
        document.getElementById('device-info-btn').addEventListener('click', showDeviceInfo);
        document.getElementById('send-notification-btn').addEventListener('click', () => sendNotification("Notification from JARVIS"));
        document.getElementById('emergency-btn').addEventListener('click', emergencyAction);
        
        // System functions
        function captureScreen() {
            logToConsole("Capturing screen...");
            
            // In a real implementation, this would use Android's AccessibilityService to capture the screen
            setTimeout(() => {
                logToConsole("Screen captured successfully");
                
                // Simulate different screen captures
                const screens = [
                    "https://placehold.co/300x600/0A192F/36D7B7?text=Home+Screen",
                    "https://placehold.co/300x600/0A192F/FF6B6B?text=App+Screen",
                    "https://placehold.co/300x600/0A192F/E6F1FF?text=Settings",
                    "https://placehold.co/300x600/0A192F/2B4162?text=Messages"
                ];
                
                const randomScreen = screens[Math.floor(Math.random() * screens.length)];
                screenPreviewImg.src = randomScreen;
                screenPreviewImg.alt = "Captured screen preview showing placeholder image";
                
                respond("Screen captured and displayed. What would you like to do next?");
            }, 1500);
        }
        
        function toggleWifi() {
            systemStatus.wifi = !systemStatus.wifi;
            logToConsole(`WiFi turned ${systemStatus.wifi ? 'ON' : 'OFF'}`);
            
            // Simulate WiFi state change
            setTimeout(() => {
                respond(`WiFi has been ${systemStatus.wifi ? 'enabled' : 'disabled'}`);
            }, 800);
        }
        
        function checkBattery() {
            // Simulate battery check
            const batteryLevel = Math.floor(Math.random() * 100);
            systemStatus.battery = batteryLevel;
            
            let status;
            if (batteryLevel < 20) status = "Low";
            else if (batteryLevel < 60) status = "Medium";
            else status = "High";
            
            logToConsole(`Battery level: ${batteryLevel}% (${status})`);
            
            setTimeout(() => {
                respond(`Your battery is at ${batteryLevel}% (${status})`);
            }, 500);
        }
        
        function checkStorage() {
            // Simulate storage check
            const used = Math.floor(Math.random() * 30) + 10;
            const free = 100 - used;
            
            logToConsole(`Storage used: ${used}GB | Free: ${free}GB`);
            
            setTimeout(() => {
                respond(`You've used ${used}GB of storage (${free}GB available)`);
            }, 500);
        }
        
        function showDeviceInfo() {
            const deviceInfo = {
                model: "Android Device",
                os: `Android ${Math.floor(Math.random() * 5) + 9}`,
                resolution: `${window.screen.width}x${window.screen.height}`,
                dpi: window.devicePixelRatio
            };
            
            logToConsole(`Device model: ${deviceInfo.model}`);
            logToConsole(`OS version: ${deviceInfo.os}`);
            logToConsole(`Screen resolution: ${deviceInfo.resolution}`);
            logToConsole(`Pixel density: ${deviceInfo.dpi}`);
            
            setTimeout(() => {
                respond(`Your device is a ${deviceInfo.model} running ${deviceInfo.os}`);
                respond(`Screen resolution: ${deviceInfo.resolution}`);
            }, 500);
        }
        
        function sendNotification(message) {
            logToConsole(`Notification sent: "${message}"`);
            
            // Simulate notification
            setTimeout(() => {
                respond(`Notification sent: "${message}"`);
            }, 500);
        }
        
        function simulateSettings() {
            logToConsole("Opening settings...");
            
            // Simulate settings screen
            setTimeout(() => {
                screenPreviewImg.src = "https://placehold.co/300x600/0A192F/E6F1FF?text=Settings+Screen";
                screenPreviewImg.alt = "Simulated Android settings screen";
                respond("Settings opened. What would you like to adjust?");
            }, 1000);
        }
        
        function emergencyAction() {
            logToConsole("Emergency mode activated!", 'error');
            
            // Simulate emergency actions
            setTimeout(() => {
                sendNotification("EMERGENCY: Requesting assistance!");
                
                setTimeout(() => {
                    respond("Emergency notification sent to contacts. Assistance is on the way!");
                }, 1500);
            }, 500);
        }
        
        function respond(message) {
            logToConsole(message);
            
            // Optional: Text-to-speech
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(message);
                utterance.rate = 1.0;
                speechSynthesis.speak(utterance);
            }
        }
        
        function logToConsole(message, type = 'output') {
            const line = document.createElement('div');
            line.className = `console-line console-${type}`;
            line.textContent = message;
            consoleElem.insertBefore(line, consoleElem.firstChild);
            
            // Keep console tidy
            if (consoleElem.children.length > 50) {
                consoleElem.removeChild(consoleElem.lastChild);
            }
        }
        
        // Initialize systems
        window.addEventListener('load', function() {
            initVoiceRecognition();
            
            // Simulate system checks
            setTimeout(() => {
                checkBattery();
                checkStorage();
            }, 2000);
            
            logToConsole("JARVIS system ready");
            respond("Hello, I'm JARVIS. How can I assist you today?");
        });
    </script>
</body>
</html>
